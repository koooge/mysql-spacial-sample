CREATE DATABASE `test`;

CREATE TABLE `test`.`test` (
  `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `location` GEOMETRY NOT NULL, -- GEOMETRY(POINT, LINESTRING or POLYGON)
  `geohash` VARCHAR(16) NOT NULL,
  `createdAt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updatedAt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  SPATIAL KEY `location` (`location`)
);

INSERT INTO `test`.`test`
  (`location`, `geohash`)
VALUES
  (ST_GeomFromText('POINT(35.628611 139.708056)'), ST_GeoHash(139.708056, 35.628611, 16)),
  (ST_GeomFromText('POINT(35.716100 139.712460)'), ST_GeoHash(139.712460, 35.716100, 16)),
  (ST_GeomFromText('POINT(35.726296 139.7507333)'), ST_GeoHash(139.7507333, 35.726296, 16)),
  (ST_GeomFromText('POINT(35.644785 139.665668)'), ST_GeoHash(139.665668, 35.644785, 16)),
  (ST_GeomFromText('POINT(35.644765 139.5978171)'), ST_GeoHash(139.5978171, 35.644765, 16));
